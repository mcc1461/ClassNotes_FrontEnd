{"ast":null,"code":"import { useEffect as d, useRef as f } from \"react\";\nimport { FocusableMode as p, isFocusableElement as C } from '../utils/focus-management.js';\nimport { useDocumentEvent as l } from './use-document-event.js';\nimport { useWindowEvent as M } from './use-window-event.js';\n\nfunction h(s, m) {\n  let a = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !0;\n  let i = f(!1);\n  d(() => {\n    requestAnimationFrame(() => {\n      i.current = a;\n    });\n  }, [a]);\n\n  function c(e, r) {\n    if (!i.current || e.defaultPrevented) return;\n    let t = r(e);\n    if (t === null || !t.getRootNode().contains(t) || !t.isConnected) return;\n\n    let E = function u(n) {\n      return typeof n == \"function\" ? u(n()) : Array.isArray(n) || n instanceof Set ? n : [n];\n    }(s);\n\n    for (let u of E) {\n      if (u === null) continue;\n      let n = u instanceof HTMLElement ? u : u.current;\n      if (n != null && n.contains(t) || e.composed && e.composedPath().includes(n)) return;\n    }\n\n    return !C(t, p.Loose) && t.tabIndex !== -1 && e.preventDefault(), m(e, t);\n  }\n\n  let o = f(null);\n  l(\"pointerdown\", e => {\n    var r, t;\n    i.current && (o.current = ((t = (r = e.composedPath) == null ? void 0 : r.call(e)) == null ? void 0 : t[0]) || e.target);\n  }, !0), l(\"mousedown\", e => {\n    var r, t;\n    i.current && (o.current = ((t = (r = e.composedPath) == null ? void 0 : r.call(e)) == null ? void 0 : t[0]) || e.target);\n  }, !0), l(\"click\", e => {\n    o.current && (c(e, () => o.current), o.current = null);\n  }, !0), l(\"touchend\", e => c(e, () => e.target instanceof HTMLElement ? e.target : null), !0), M(\"blur\", e => c(e, () => window.document.activeElement instanceof HTMLIFrameElement ? window.document.activeElement : null), !0);\n}\n\nexport { h as useOutsideClick };","map":{"version":3,"names":["useEffect","d","useRef","f","FocusableMode","p","isFocusableElement","C","useDocumentEvent","l","useWindowEvent","M","h","s","m","a","i","requestAnimationFrame","current","c","e","r","defaultPrevented","t","getRootNode","contains","isConnected","E","u","n","Array","isArray","Set","HTMLElement","composed","composedPath","includes","Loose","tabIndex","preventDefault","o","call","target","window","document","activeElement","HTMLIFrameElement","useOutsideClick"],"sources":["/Users/mcc/codespace/mcc_github/classnotes/react/class-notes/mcc_rc09_study-more/node_modules/@headlessui/react/dist/hooks/use-outside-click.js"],"sourcesContent":["import{useEffect as d,useRef as f}from\"react\";import{FocusableMode as p,isFocusableElement as C}from'../utils/focus-management.js';import{useDocumentEvent as l}from'./use-document-event.js';import{useWindowEvent as M}from'./use-window-event.js';function h(s,m,a=!0){let i=f(!1);d(()=>{requestAnimationFrame(()=>{i.current=a})},[a]);function c(e,r){if(!i.current||e.defaultPrevented)return;let t=r(e);if(t===null||!t.getRootNode().contains(t)||!t.isConnected)return;let E=function u(n){return typeof n==\"function\"?u(n()):Array.isArray(n)||n instanceof Set?n:[n]}(s);for(let u of E){if(u===null)continue;let n=u instanceof HTMLElement?u:u.current;if(n!=null&&n.contains(t)||e.composed&&e.composedPath().includes(n))return}return!C(t,p.Loose)&&t.tabIndex!==-1&&e.preventDefault(),m(e,t)}let o=f(null);l(\"pointerdown\",e=>{var r,t;i.current&&(o.current=((t=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:t[0])||e.target)},!0),l(\"mousedown\",e=>{var r,t;i.current&&(o.current=((t=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:t[0])||e.target)},!0),l(\"click\",e=>{o.current&&(c(e,()=>o.current),o.current=null)},!0),l(\"touchend\",e=>c(e,()=>e.target instanceof HTMLElement?e.target:null),!0),M(\"blur\",e=>c(e,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}export{h as useOutsideClick};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}