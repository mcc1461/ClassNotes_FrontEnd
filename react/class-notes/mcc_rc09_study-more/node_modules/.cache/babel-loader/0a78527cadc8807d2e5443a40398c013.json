{"ast":null,"code":"import { disposables as m } from '../../utils/disposables.js';\nimport { isIOS as f } from '../../utils/platform.js';\n\nfunction T() {\n  if (!f()) return {};\n  let l;\n  return {\n    before() {\n      l = window.pageYOffset;\n    },\n\n    after(_ref) {\n      let {\n        doc: o,\n        d: t,\n        meta: s\n      } = _ref;\n\n      function i(n) {\n        return s.containers.flatMap(e => e()).some(e => e.contains(n));\n      }\n\n      t.microTask(() => {\n        if (window.getComputedStyle(o.documentElement).scrollBehavior !== \"auto\") {\n          let e = m();\n          e.style(o.documentElement, \"scroll-behavior\", \"auto\"), t.add(() => t.microTask(() => e.dispose()));\n        }\n\n        t.style(o.body, \"marginTop\", `-${l}px`), window.scrollTo(0, 0);\n        let n = null;\n        t.addEventListener(o, \"click\", e => {\n          if (e.target instanceof HTMLElement) try {\n            let r = e.target.closest(\"a\");\n            if (!r) return;\n            let {\n              hash: c\n            } = new URL(r.href),\n                a = o.querySelector(c);\n            a && !i(a) && (n = a);\n          } catch {}\n        }, !0), t.addEventListener(o, \"touchmove\", e => {\n          e.target instanceof HTMLElement && !i(e.target) && e.preventDefault();\n        }, {\n          passive: !1\n        }), t.add(() => {\n          window.scrollTo(0, window.pageYOffset + l), n && n.isConnected && (n.scrollIntoView({\n            block: \"nearest\"\n          }), n = null);\n        });\n      });\n    }\n\n  };\n}\n\nexport { T as handleIOSLocking };","map":{"version":3,"names":["disposables","m","isIOS","f","T","l","before","window","pageYOffset","after","doc","o","d","t","meta","s","i","n","containers","flatMap","e","some","contains","microTask","getComputedStyle","documentElement","scrollBehavior","style","add","dispose","body","scrollTo","addEventListener","target","HTMLElement","r","closest","hash","c","URL","href","a","querySelector","preventDefault","passive","isConnected","scrollIntoView","block","handleIOSLocking"],"sources":["/Users/mcc/codespace/mcc_github/classnotes/react/class-notes/mcc_rc09_study-more/node_modules/@headlessui/react/dist/hooks/document-overflow/handle-ios-locking.js"],"sourcesContent":["import{disposables as m}from'../../utils/disposables.js';import{isIOS as f}from'../../utils/platform.js';function T(){if(!f())return{};let l;return{before(){l=window.pageYOffset},after({doc:o,d:t,meta:s}){function i(n){return s.containers.flatMap(e=>e()).some(e=>e.contains(n))}t.microTask(()=>{if(window.getComputedStyle(o.documentElement).scrollBehavior!==\"auto\"){let e=m();e.style(o.documentElement,\"scroll-behavior\",\"auto\"),t.add(()=>t.microTask(()=>e.dispose()))}t.style(o.body,\"marginTop\",`-${l}px`),window.scrollTo(0,0);let n=null;t.addEventListener(o,\"click\",e=>{if(e.target instanceof HTMLElement)try{let r=e.target.closest(\"a\");if(!r)return;let{hash:c}=new URL(r.href),a=o.querySelector(c);a&&!i(a)&&(n=a)}catch{}},!0),t.addEventListener(o,\"touchmove\",e=>{e.target instanceof HTMLElement&&!i(e.target)&&e.preventDefault()},{passive:!1}),t.add(()=>{window.scrollTo(0,window.pageYOffset+l),n&&n.isConnected&&(n.scrollIntoView({block:\"nearest\"}),n=null)})})}}}export{T as handleIOSLocking};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}